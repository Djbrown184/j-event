version: "3.8"

services:
  gx-water:
    build: water
    container_name: gx-water
    image: itzg/bungeecoord:latest
    ports:
      - '25565:25577'
    volumes:
      - WATER_SERVER:/server
      - WATER_CONFIG:/config
      - WATER_PLUGINS:/plugins
    env_file: gx-water.env
    restart: unless-stopped
    networks:
      - j-event
  gx-lobby:
    build: spigot
    container_name: gx-lobby
    image: itzg/minecraft-server:latest
    volumes:
      - LOBBY:/data
    env_file: gx-lobby.env
    restart: unless-stopped
    tty: true
    stdin_open: true
    networks:
      - j-event
  gx-team-01:
    build: spigot
    container_name: gx-team-01
    image: itzg/minecraft-server:latest
    volumes:
      - TEAM_01:/data
    env_file: gx-team-01.env
    restart: unless-stopped
    tty: true
    stdin_open: true
    networks:
      - j-event
  gx-team-02:
    build: spigot
    container_name: gx-team-02
    image: itzg/minecraft-server:latest
    volumes:
      - TEAM_02:/data
    env_file: gx-team-02.env
    restart: unless-stopped
    tty: true
    stdin_open: true
    networks:
      - j-event
  gx-team-03:
    build: spigot
    container_name: gx-team-03
    image: itzg/minecraft-server:latest
    volumes:
      - TEAM_03:/data
    env_file: gx-team-03.env
    restart: unless-stopped
    tty: true
    stdin_open: true
    networks:
      - j-event
  gx-team-04:
    build: spigot
    container_name: gx-team-04
    image: itzg/minecraft-server:latest
    volumes:
      - TEAM_04:/data
    env_file: gx-team-04.env
    restart: unless-stopped
    tty: true
    stdin_open: true
    networks:
      - j-event
  gx-team-05:
    build: spigot
    container_name: gx-team-05
    image: itzg/minecraft-server:latest
    volumes:
      - TEAM_05:/data
    env_file: gx-team-05.env
    restart: unless-stopped
    tty: true
    stdin_open: true
    networks:
      - j-event
  gx-team-06:
    build: spigot
    container_name: gx-team-06
    image: itzg/minecraft-server:latest
    volumes:
      - TEAM_06:/data
    env_file: gx-team-06.env
    restart: unless-stopped
    tty: true
    stdin_open: true
    networks:
      - j-event
  gx-team-07:
    build: spigot
    container_name: gx-team-07
    image: itzg/minecraft-server:latest
    volumes:
      - TEAM_07:/data
    env_file: gx-team-07.env
    restart: unless-stopped
    tty: true
    stdin_open: true
    networks:
      - j-event
  gx-team-08:
    build: spigot
    container_name: gx-team-08
    image: itzg/minecraft-server:latest
    volumes:
      - TEAM_08:/data
    env_file: gx-team-08.env
    restart: unless-stopped
    tty: true
    stdin_open: true
    networks:
      - j-event
  gx-team-09:
    build: spigot
    container_name: gx-team-09
    image: itzg/minecraft-server:latest
    volumes:
      - TEAM_09:/data
    env_file: gx-team-09.env
    restart: unless-stopped
    tty: true
    stdin_open: true
    networks:
      - j-event
  gx-team-10:
    build: spigot
    container_name: gx-team-10
    image: itzg/minecraft-server:latest
    volumes:
      - TEAM_10:/data
    env_file: gx-team-10.env
    restart: unless-stopped
    tty: true
    stdin_open: true
    networks:
      - j-event

volumes:
  WATER_SERVER: { }
  WATER_CONFIG: { }
  WATER_PLUGINS: { }
  LOBBY: { }
  TEAM_01: { }
  TEAM_02: { }
  TEAM_03: { }
  TEAM_04: { }
  TEAM_05: { }
  TEAM_06: { }
  TEAM_07: { }
  TEAM_08: { }
  TEAM_09: { }
  TEAM_10: { }

networks:
  j-event:
    internal: true
    name: j-event_mc